お見事！

タテ・ヨコ、そしてナナメの２方向の
それぞれが最大になるためには、その
どれもに含まれる数を最大にすれば
よいだろうと推測できる。

あとは、それが可能かどうかを試せば
よい。
図のようになる。